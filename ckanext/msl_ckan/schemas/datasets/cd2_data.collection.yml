scheming_version: 2
dataset_type: data_collection
about: CDÂ² data-collections, include wave information
about_url: https://github.com/ckan/ckanext-scheming

dataset_fields:

# standard CKAN field
- field_name: title
  label: Title of the data collection
  preset: title
  form_placeholder: eg. A descriptive title

# DH: added alternate title
- field_name: wave_alternate_title
  label:  Alternate title of the wave
  
# standard CKAN field
# name is an internal CKAN identifier;
# if the cohort has a DOI then possibly use hash of this
- field_name: name
  label: identifier
  preset: dataset_slug
  form_placeholder: eg. my-dataset

# WAVE LEVEL METADATA

- field_name: wave
  label: wave
  repeating_subfields:
  - field_name: wave_title
    label: Short identifying title of the wave
  - field_name: notes # standard CKAN field; abstract description of the wave
    label: Short description of the wave (Abstract)
  - field_name: wave_universe # textual description of universe; redundant with description field available?
    label: Short summary of the participants in the cohort (e.g., target age) 
  - field_name: wave_publisher_name
    label: Name of organization hosting the wave data (e.g. university, library, repository, etc.)
    required: true
  - field_name: wave_publisher_identifier
    label: Identifier of the organization hosting the wave data
  - field_name: wave_publisher_identifier_type
    label: Type of organization identifier for publisher of the wave data
  # TODO: decide whether to add spatial coordinates
  # SpatialCoverage consists of CountryCode, GeographicLocationReference and Lowest/Higest
  #     reference in the metadata model. I guess these will be collapsed into 1?
  - field_name: wave_geo_location # textual, no coordinates
    label: Geographical coverage
  - field_name: wave_start_date_collection
    label: Start date of wave collection
  - field_name: wave_end_date_collection
    label: End date of wave collection
  - field_name: dc_wave_coverage # note the prefix and see the model: this is actually a field that applies to a single measurement
    label: Coverage percentage of the measurement for this wave
  # DH: added Physical data product
  - field_name: wave_physical_data_product
    label: Documents the physical structure of the data produced by the study unit, e.g., digital files, biomedical samples, etc.
    
  # - field_name: wave_creators
    #   removed for wave level because these are included with the data collection itself
    # - field_name: wave_contributors
    #   removed for wave level because these are included with the data collection itself

  # Is this actually necessary? Don't think so...:
  # DH: I think it is worth adding here, you never know if a specific wave is funded.
  - field_name: wave_funding # can be distinct for different waves
    label: Funding for this wave
    repeating_subfields:
    - field_name: wave_funder
      label: Name of funder
    - field_name: wave_grant_number
      label:  Grant number

# DH: Fields also included in metadata model, inclusion to be discussed
#- field_name: wave_language
#  label: Language of the wave data
#- field_name: wave_international_identifier
#  label: Wave international identifier # e.g. DOI
# repeating_subfields:
#  - field_name: wave_citation
#    label: Citation # to be harvested via e.g. DataCite API
#  - field_name: wave_pid
#    label: Wave international identifier # e.g. DOI
#  - field_name: wave_pid_type
#    label: Identifier type of the reference, e.g., DOI
#  - field_name: wave_reference_type
#    label: Reference type # e.g. IsSupplementedBy, IsDocumentedBy, Supplements, etc.
#    preset: select
#    choices:
#    - value: IsDocumentedBy
#      label: Documented by
#    - value: IsDescribedBy
#      label: Described by
#    - value: IsSupplementedBy
#      label: Is supplemented by
#    - value: IsSourceOf
#      label: Is source of  


  # # connection to DataCollections (measures)
  # obsolete in new docstore structure

# end of WAVE information

# ----------------------- some CKAN default fields:

# tags
- field_name: tag_string
  label: Keywords
  preset: tag_string_autocomplete
  form_placeholder: eg. economy, mental health, government

# if applicable
- field_name: license_id
  label: License
  form_snippet: license.html
  help_text: License definitions and additional information can be found at http://opendefinition.org/

# will refer to the Study that is defined as a CKAN 'organization'
- field_name: owner_org
  label: Study
  preset: dataset_organization

# resolves to the detail page for the data collection
- field_name: url
  label: Details
  form_placeholder: http://example.com/dataset.json
  display_property: foaf:homepage
  display_snippet: link.html

# optional?
- field_name: version
  label: Version
  validators: ignore_missing unicode package_version_validator
  form_placeholder: '1.0'

# ------------------ rest of data collection level fields

- field_name: dc_cohort # refers to a group of type cohort (cd2_cohort_yml)
  label: Cohort that this DataCollection is a part of 
- field_name: dc_title # DH: added
  label: Title of the DataCollection
- field_name: dc_alternate_title # DH: added
  label: Alternative title of the DataCollection
- field_name: dc_instrument_name # repeatable? complex (e.g. with an identifier)?
  # translate to complex type of repeating_fields
  label: Name of the instrument
- field_name: dc_alternate_instrument_name # DH: added
  label: Alternative name of the instrument
- field_name: dc_measurement_references # DH: edited to be consistent with cd2_cohort and cd2_study
  label: References describing the instrument used
  repeating_subfields:
  - field_name: dc_measurements_references_citation
    label: Citation # to be harvested via e.g. DataCite API
  - field_name: dc_measurements_references_pid
    label: Identifier of the measurement reference
  - field_name: dc_measurements_references_pid_type
    label: Identifier type of the reference, e.g., DOI
  - field_name: dc_measurements_references_type
    label: Reference type # e.g. IsSupplementedBy, IsDocumentedBy, Supplements, etc.
    preset: select
    choices:
    - value: IsDocumentedBy
      label: Documented by
    - value: IsDescribedBy
      label: Described by
    - value: IsSupplementedBy
      label: Is supplemented by
    - value: IsSourceOf
      label: Is source of
- field_name: dc_description
  label: Description of the DataCollection
- field_name: dc_mode_of_collection
  label: Method of data collection
- field_name: dc_mode_of_collection_sub
  label: Further subdivision of ModeOfCollection, if applicable (e.g., MRI, EEG, Eyetracking, Behavioral task, etc.)
- field_name: dc_respondent # e.g. child, parent, teacher
  label: Who completed the measure (e.g., a questionnaire can be filled out by a parent of a child)?
- field_name: dc_subject # e.g. child, family
  label: Who is the subject of the DataCollection (about whom)?
- field_name: dc_label # e.g. "brain anatomy"
  labe: Keywords for this DataCollection
- field_name: dc_construct # "physical health"
  label: Construct category of this DataCollection
